# FIS 데이터 수동 수집 시스템 - 사용 가이드

## 🎯 개요

브라우저를 통해 각 선수의 FIS 페이지를 직접 확인하고, 정확한 데이터를 수동으로 입력하여 Excel에 저장하는 시스템입니다.

---

## 🚀 사용 방법

### 방법 1: 더블클릭 실행 (추천)

1. **권한 설정** (최초 1회):
   ```bash
   cd /Users/jenkim/Downloads/2026_Antigravity/fis-korea-dashboard
   chmod +x 데이터수집.command
   ```

2. **데이터 수집**:
   - `데이터수집.command` 더블클릭
   - 모드 선택 (단일 선수 / 전체 선수)
   - 브라우저가 자동으로 열림
   - 터미널에 데이터 입력

### 방법 2: 터미널 실행

```bash
cd /Users/jenkim/Downloads/2026_Antigravity/fis-korea-dashboard

# 단일 선수
npm run collect-data 163744

# 전체 선수
npm run collect-all
```

---

## 📝 데이터 입력 예시

```
📊 이상호 (LEE Sangho) - 163744
============================================================

🔗 FIS 프로필: https://www.fis-ski.com/DB/general/athlete-biography.html?sectorcode=SB&competitorid=163744&type=result

🌐 브라우저에서 열었습니다

브라우저에서 데이터를 확인하세요.
확인 후 아래 정보를 입력해주세요.

--- 경기 결과 #1 ---
날짜 (예: 2026-01-18, 또는 엔터로 종료): 2026-01-18
장소 (예: Bansko): Bansko
국가 (예: BUL): BUL
대회 (예: World Cup): World Cup
종목 (기본값: Alpine): 
순위 (예: 18): 18
FIS Points (예: 150.00, 선택사항): 150.00
Cup Points (예: 13.00, 선택사항): 13.00

다른 경기 결과를 추가하시겠습니까? (y/n): n

✅ 저장 완료: /Users/jenkim/Downloads/2026_Antigravity/fis-korea-dashboard/public/data/athletes/163744.xlsx
```

---

## 📊 생성되는 파일

### 위치
```
public/data/
├── athletes-master.xlsx          # 40명 선수 마스터
└── athletes/
    ├── 163744.xlsx              # 이상호
    └── ...                      # 기타 선수
```

### Excel 파일 구조
각 선수 파일은 2개 시트로 구성:
1. **선수정보**: 이름, 종목, 생년, 소속 등
2. **경기결과**: 날짜, 장소, 순위, 포인트 등 (사용자가 입력한 데이터)

---

## 💡 팁

### 효율적인 데이터 입력
1. **브라우저와 터미널을 나란히 배치**
   - 왼쪽: 브라우저 (FIS 페이지)
   - 오른쪽: 터미널 (데이터 입력)

2. **최근 경기만 입력**
   - 모든 경기를 입력할 필요 없음
   - 최근 5-10개 경기만 입력해도 충분

3. **선택사항 필드는 건너뛰기**
   - FIS Points, Cup Points는 선택사항
   - 엔터만 눌러도 됨

4. **중단 및 재개**
   - 언제든지 중단 가능 (Ctrl+C)
   - 다시 실행하면 이어서 진행

---

## 🔄 데이터 업데이트

### 기존 데이터 업데이트
1. 해당 선수의 Competitor ID로 다시 실행
2. 새로운 경기 결과 입력
3. 기존 파일이 덮어씌워짐

### 추가 경기 결과만 입력
- 여러 경기 결과를 한 번에 입력 가능
- "다른 경기 결과를 추가하시겠습니까?" → y

---

## 🎨 대시보드 연동

### 자동 업데이트
- Excel 파일 저장 시 자동 반영
- 대시보드는 5분마다 Excel 파일 새로고침

### 대시보드 실행
```bash
npm run dev
```
또는 `대시보드실행.command` 더블클릭

---

## 🐛 문제 해결

### 브라우저가 자동으로 열리지 않음
- 수동으로 터미널에 표시된 URL 복사
- 브라우저에 붙여넣기

### 데이터 입력 실수
- 해당 선수를 다시 실행
- 올바른 데이터로 재입력

### Excel 파일이 생성되지 않음
- `public/data/athletes/` 폴더 권한 확인
- 최소 1개 경기 결과는 입력해야 함

---

## 📋 스크립트 명령어

| 명령어 | 설명 |
|--------|------|
| `npm run collect-data <id>` | 특정 선수 데이터 수집 |
| `npm run collect-all` | 전체 선수 데이터 수집 |

---

## ✅ 장점

- ✅ **100% 정확한 데이터**: 사용자가 직접 확인하고 입력
- ✅ **웹 스크래핑 오류 없음**: HTML 구조 변경에 영향 없음
- ✅ **유연한 입력**: 필요한 데이터만 선택적으로 입력
- ✅ **언제든지 수정 가능**: 잘못된 데이터는 다시 입력

---

**최종 업데이트**: 2026-01-18  
**버전**: 2.0.0 (Manual Collection)
